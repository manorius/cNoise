<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <style>
    body{
        width:100%;
        height:100%;
    }
    canvas{
      z-index:100;
      position: absolute;
    }
    img{
      z-index: 10;
      position: absolute;
        left: 341px;
  top: 85px;
    }
    </style>
</head>
<body>
  <img src="crafted.jpg">
    <script src="simplex-noise.min.js"></script>
    <script src="paper-full.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>
 // DOM IS READY
 $( document ).ready(function(){

// CREATE CANVAS ELEMENT
var canvas = document.createElement("canvas");

canvas.width = $(document).width();
canvas.height = $(document).height();
document.body.appendChild(canvas);

// PAPER INIT
paper.install(window);
paper.setup(canvas);

var c = canvas.getContext("2d");

/*c.rect(0,0,100,100);
c.fill();
c.stroke();*/
/*c.strokeStyle = "black";
//c.beginPath();
   c.lineTo(0,250);
   
    var simplex = new SimplexNoise(Math.random);

     for(var x = 0; x < 1920; x++){
     var n = simplex.noise2D(x, 250);
c.lineTo(x,(n*10)+250);
        }

c.stroke();*/

/*c.beginPath();

 for(var r = 0; r < 20; r++){
     var n = simplex.noise2D(250, r);
//c.lineTo(x,(n*10)+250);

//
c.arc(250, 250, 50+(n*10), 0, (2/20)*r * Math.PI);
        }

c.stroke();
*/

// Circle coordinates
var circleCoor = [];

var radius = 50;
var angle = 0;

for (var n = 0; n < 30; n++) {

// make a complete circle every 50 iterations
angle += (Math.PI * 2) / 30;
//console.log(n);
var x = 100 + radius * Math.cos(angle);
var y = 50 + radius * Math.sin(angle);
circleCoor.push(new Array(x,y));
}
console.log(circleCoor);

//////////////////////////////////////

var rSeed = 0;
var repetitions = 0;
var stopAfter = 30;

// CREATE 4 PATH OBJECTS
var paths = [];

for (var i = 3; i >= 0; i--) {
  var path = new Path();
  path.strokeColor = '#616161';
  path.strokeWidth = 2;
  path.closed = true;
  paths.push(path);
};


var f = window.setInterval(function(){
  
  for (var i = 3; i >= 0; i--) {
  paths[i].removeSegments();
};
   // c.clearRect(0,0,canvas.width,canvas.height);
     
var radius = 50;
var angle = 0;
var mRepet = repetitions%6;
var multiplier = (mRepet==0)? 20:2*mRepet;

//c.lineWidth = 1;
//c.strokeStyle = "#CCCCCC"; // blue-ish color
//c.beginPath();

//c.moveTo(canvas.width / 2 + radius * Math.cos(0), canvas.height / 2);
for (var i = paths.length - 1; i >= 0; i--) {
 
paths[i].add(new Point(720 + radius * Math.cos(0), 240));

for (var n = 0; n < 30; n++) {
var simplex = new SimplexNoise(Math.random);
// make a complete circle every 50 iterations
angle += (Math.PI * 2) / 30;
var sn = simplex.noise2D(circleCoor[n][0],circleCoor[n][1])
var newRadius = radius+Math.abs(multiplier*sn);
//console.log(multiplier*sn);
var x = 720 + newRadius * Math.cos(angle);
var y = 240 + newRadius * Math.sin(angle);

paths[i].add(new Point(x, y));
//c.lineTo(x, y);
rSeed++;
}
/*if(mRepet!=0)*/ paths[i].simplify(0);
//c.stroke();
 
};

/*
// RANDOM NOISE

var radius = 50;
var angle2 = 0;
c.lineWidth = 2;
c.strokeStyle = "#ff0000"; // blue-ish color
c.beginPath();

c.moveTo((canvas.width / 2)+200 + radius * Math.cos(0), (canvas.height / 2));

for (var n1 = 0; n1 < 80; n1++) {

// make a complete circle every 50 iterations
angle2 += (Math.PI * 2) / 80;
var randomRadius = radius+(2*Math.random())
//console.log(n);
var x = (canvas.width / 2)+200 + randomRadius * Math.cos(angle2);
var y = (canvas.height / 2) + randomRadius * Math.sin(angle2);

c.lineTo(x, y);
}
c.stroke();*/
if(repetitions==stopAfter) clearInterval(f);
repetitions++;

},100);

view.onFrame = function(event) {};

 });

// WHOLE PAGE HAS FINSIHED LOADING INCLUDING IMAGES ETC...
 $( window ).load(function(){});
</script>
 
</body>
</html>